# Persistent Spring Boot Starter Configuration Example
# Copy this configuration to your application.yaml

markeb:
  persistent:
    enabled: true

    # Entity scan packages (multiple packages separated by comma)
    entity-packages: org.markeb.entity

    # Database configuration
    storage:
      type: mongo          # mongo / jpa

    # Cache configuration
    cache:
      type: redis          # redis / caffeine / two-level / none
      redis:
        key-prefix: "game:"
        default-ttl: 30m
      caffeine:
        max-size: 10000
        expire-after-write: 5m

    # Async persistent queue configuration
    queue:
      type: rocketmq       # rocketmq / kafka / memory
      topic: persistent-topic
      async-enabled: true
      # Only effective for memory type
      memory-queue-capacity: 10000
      consumer-threads: 4

# MongoDB configuration (required when storage.type=mongo)
spring:
  data:
    mongodb:
      uri: mongodb://localhost:27017/gamedb

# Redis configuration (required when cache.type=redis or two-level)
  redis:
    host: localhost
    port: 6379

# RocketMQ configuration (required when queue.type=rocketmq)
rocketmq:
  name-server: localhost:9876
  producer:
    group: persistent-producer-group
  consumer:
    group: persistent-consumer-group
